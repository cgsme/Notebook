# 并发、并行

> 不要通过共享内存来通信，而应该通过通信来共享内存。

* 并发执行不一定是并行执行。
* 单核CPU可以并发执行，不能并行执行。
* 但进程、单线程，也可以并发执行。

并行是**同一时刻**的多任务处理，并发是**一个时间段内**（1秒、一毫米）的多任务处理。

## 区别并发和并行

多核的**并行处理**涉及到多核同时读写一个缓存行，所以很容易出现脏读和脏写；
单核的**并发处理**中因为任务的中间变量，所以有可能存在脏写的情况。

## 并发编程三个特性

* 原子性

    一个操作或多个操作及不可分割的颗粒，要么全部执行成功要么全部执行失败。

* 可见性

    可见性是指当多个线程访问同一个变量时，一个线程修改了这个变量的值，其他线程能够立即看得到修改的值。

* 有序性

    程序按照代码的先后顺序执行（处理器可能对指令重排序）。
