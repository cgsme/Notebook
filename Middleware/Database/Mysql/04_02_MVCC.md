# MVCC （多版本并发控制）

行级锁的变种。在普通**读操作**情况下避免了加锁的操作，开销更低，所以在并发访问数据库时提高读写效率。在写操作时，只锁定必要的行。

## 当前读（读取实际的持久化的数据）

读取的是数据的最新版本，总是读取到最新的数据。

特殊的操作（插入\更新\删除）都属于当前读，处理的是当前的数据，需要加锁。

读锁：`select xxx from xx lock in share mode`

写锁(排他锁)：`select xxx from xx for update`

## 快照读（一致性读，consistent read）

读取的是历史版本记录。

`select xxx`
