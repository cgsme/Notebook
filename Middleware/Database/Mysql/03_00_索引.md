# 索引

## 聚簇索引

索引和数据保存在一起。

## 非聚簇索引

索引和数据不保存在一起。

## 回表

通过非主键索引查询到主键，再根据主键索引查询到整条记录。即回表。

## 索引覆盖

在非聚簇索引中查询到sql语句中需要的所有字段，而不用再次根据主键索引查询聚簇索引。即索引覆盖。

如：

```sql
-- 一张表有id、name、age三个字段。id为主键，name为索引。
-- 则只要根据name查询id、name两列，通过一次查询即可查到所需的id和name这两列，不用再回表查询。
select id, name from table_name where name = ?
```

## 最左匹配（联合索引、组合索引）

## 索引下推

客户端 -> 服务端 -> 存储引擎

服务端与存储引擎存在数据交互，索引下推可减少IO操作。

```sql
select * from table where name = ? and age = ?
```

没有索引下推时，先根据name条件从存储引擎中获取符合规则的数据，然后载服务端对age进行过滤。

索引下推之后，根据name和age两个条件来从存储引擎中获取对应的数据，直接返回。
