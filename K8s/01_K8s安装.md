# k8s安装

[官方文档](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/)

## 安装方式

- minikube
- Kind
- kubeadm
- kubespray
- 二进制包
- yum （版本太旧）

## kubeadm安装（CentOs7）

### 1 环境准备

#### 1.1 关闭防火墙
\```shell

  systemctl stop firewalld
  systemctl disable firewalld
  
\```  
#### 1.2 关闭selinux

    sed -i 's/enforcing/disabled/' /etc/selinux/config  #永久关闭
    setenforce 0  # 临时关闭
 
#### 1.3 关闭swap分区（K8s禁止虚拟内存以提高性能）

    swapoff -a  # 临时关闭
    sed -ri 's/.*swap.*/#&' /etc/fstab  # 永久关闭

#### 1.4 在master添加hosts

  cat >> /etc/hosts << EOF
  192.168.0.10 k8smaster
  192.168.0.11 k8snode
  #192.168.0.12 node2
  EOF

#### 1.5 设置网桥参数

  cat >> /etc/sysctl.d/k8s.conf << EOF
  net.bridge.bridge-nf-call-ip6tables = 1
  net.bridge.bridge-call-iptables = 1
  EOF
  
  sysctl --system   # 生效
  
#### 1.6 时间同步

  yum install ntpdate -y
  ntpdate time.windows.com
  
### K8s具体安装步骤


