# inti 函数

先于main函数执行，实现包级别的一些初始化操作。

## 主要作用

包括以下：

- 初始化不能通过初始化表达是进行初始化的变量。
- 程序运行前的注册。
- 实现sunc.Once功能
- 其他

## 主要特点

- init函数先于mian函数自动执行，不能被其他函数调用。
- init函数没有输入参数，没有返回值。
- **每个包可以有多个init函数**。
- **包的每个源文件也可以有多个init函数**，比较特殊。
- 同一个包的init函数执行顺序没有明确的定义，编码时要注意程序不要依赖init函数的执行顺序。
- 不同包的init函数按照包导入的依赖关系决定执行顺序。
  
## golang程序初始化

golang程序init函数优先于main函数执行，由runtime进行初始化，初始化顺序如下：

- 1、初始化导入的包（包的依赖初始化顺序并不是按导入顺序（“从上到下”）执行的，runtime需要解析包的依赖关系，没有依赖包的最先初始化，与变量初始化依赖关系类似）；
- 2、初始化包作用域的变量（该作用与的变量的初始化也并非按照“从上到下，从左到右”的顺序，runtime解析变量依赖关系，没有依赖的变量最先初始化）；
- 3、执行包的init函数；

初始化顺序：变量初始化 -> init() -> main()
